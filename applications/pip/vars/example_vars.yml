# Python åŒ…ç®¡ç†ç¤ºä¾‹å˜é‡é…ç½®

# ç³»ç»Ÿé…ç½®
install_system_python: true  # æ˜¯å¦å®‰è£…ç³»ç»Ÿçº§ Python å’Œ pip
virtualenv_command: "python3 -m venv"  # è™šæ‹Ÿç¯å¢ƒåˆ›å»ºå‘½ä»¤

# è™šæ‹Ÿç¯å¢ƒé…ç½®
project_venv_path: "/opt/app/venv"  # é¡¹ç›®è™šæ‹Ÿç¯å¢ƒè·¯å¾„
dev_venv_path: "/opt/app/dev_venv"  # å¼€å‘è™šæ‹Ÿç¯å¢ƒè·¯å¾„
create_venv: true  # æ˜¯å¦åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
upgrade_pip: true  # æ˜¯å¦å‡çº§ pip åˆ°æœ€æ–°ç‰ˆæœ¬

# Web åº”ç”¨ä¾èµ–åŒ…
web_dependencies:
  - "flask==2.3.2"
  - "gunicorn==21.2.0"
  - "redis==4.6.0"
  - "celery==5.3.1"
  - "jinja2==3.1.2"
install_web_deps: true  # æ˜¯å¦å®‰è£… Web ä¾èµ–

# æ•°æ®åº“ç›¸å…³åŒ…
database_dependencies:
  - "psycopg2-binary==2.9.7"
  - "sqlalchemy==2.0.20"
  - "alembic==1.12.0"
  - "pymongo==4.5.0"
install_database_deps: true  # æ˜¯å¦å®‰è£…æ•°æ®åº“ä¾èµ–

# Requirements æ–‡ä»¶é…ç½®
requirements_file_path: "/opt/app/requirements.txt"  # requirements.txt æ–‡ä»¶è·¯å¾„
pip_extra_args: "--no-cache-dir --trusted-host pypi.org --trusted-host pypi.python.org --trusted-host files.pythonhosted.org"
install_from_requirements: true  # æ˜¯å¦ä» requirements æ–‡ä»¶å®‰è£…

# å¼€å‘å·¥å…·åŒ…
development_tools:
  - "pytest==7.4.2"
  - "black==23.9.1"
  - "flake8==6.1.0"
  - "mypy==1.5.1"
  - "coverage==7.3.2"
  - "pre-commit==3.4.0"
install_dev_tools: true  # æ˜¯å¦å®‰è£…å¼€å‘å·¥å…·

# Git ä»“åº“åŒ…
git_packages:
  - "git+https://github.com/user/custom-lib.git@v2.1.0#egg=custom_lib"
  - "git+https://github.com/another-org/another-lib.git@develop#egg=another_lib"
install_git_packages: false  # æ˜¯å¦å®‰è£… Git ä»“åº“åŒ…

# å®‰å…¨ç›¸å…³åŒ…ï¼ˆéœ€è¦ä¿æŒæœ€æ–°ï¼‰
security_packages:
  - "requests"
  - "urllib3"
  - "certifi"
  - "cryptography"
  - "pyopenssl"
upgrade_security_packages: true  # æ˜¯å¦å‡çº§å®‰å…¨åŒ…

# æ¸…ç†åŒ…åˆ—è¡¨
cleanup_packages:
  - "debugpy"
  - "ipython"
  - "jupyter"
cleanup_dev_packages: false  # æ˜¯å¦æ¸…ç†å¼€å‘åŒ…

# éªŒè¯åŒ…
verification_packages:
  - "flask"
  - "gunicorn"
  - "redis"
verify_installation: true  # æ˜¯å¦éªŒè¯å®‰è£…ç»“æœ

# åº”ç”¨é…ç½®
app_install_path: "/opt/app"
app_service_name: "webapp"
app_user: "appuser"
app_group: "appgroup"
create_app_script: true  # æ˜¯å¦åˆ›å»ºåº”ç”¨å¯åŠ¨è„šæœ¬
set_permissions: true  # æ˜¯å¦è®¾ç½®ç›®å½•æƒé™

# æ˜¾ç¤ºé…ç½®
show_results: true  # æ˜¯å¦æ˜¾ç¤ºæ“ä½œç»“æœæ‘˜è¦

# é‡è¦ï¼šè¿™äº›å˜é‡ä»…ç”¨äºæ¼”ç¤ºï¼Œç”Ÿäº§ç¯å¢ƒè¯·ä½¿ç”¨ Ansible Vault æˆ–å¤–éƒ¨é…ç½®ç®¡ç†
# âš ï¸ è­¦å‘Šï¼šåŒ…ç‰ˆæœ¬éœ€è¦æ ¹æ®å®é™…éœ€æ±‚è°ƒæ•´ï¼Œå»ºè®®å›ºå®šç‰ˆæœ¬å·
# ğŸ”’ å®‰å…¨æç¤ºï¼šä½¿ç”¨å¯ä¿¡çš„ PyPI æºï¼Œé¿å…å®‰è£…æ¶æ„åŒ…
# ğŸ“ æ³¨æ„ï¼šè™šæ‹Ÿç¯å¢ƒè·¯å¾„éœ€è¦æ ¹æ®å®é™…éƒ¨ç½²ç¯å¢ƒè°ƒæ•´
# ğŸš€ æ€§èƒ½ä¼˜åŒ–ï¼šä½¿ç”¨æœ¬åœ° PyPI é•œåƒå¯ä»¥åŠ é€ŸåŒ…ä¸‹è½½
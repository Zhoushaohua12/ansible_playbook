# âš ï¸ æœ¬æ–‡ä»¶ä»…ä¸ºç¤ºä¾‹ï¼Œå ä½ç¬¦å¿…é¡»ä½¿ç”¨ Ansible Vault æˆ–ç¯å¢ƒå˜é‡æ›¿æ¢

# YUM è½¯ä»¶åŒ…ç®¡ç†ç¤ºä¾‹å˜é‡é…ç½®ï¼ˆRed Hat ç³»åˆ—ç³»ç»Ÿï¼‰

# YUM ç¼“å­˜é…ç½®
yum_cache_retries: 3
yum_cache_retry_delay: 10

# åŸºç¡€ç³»ç»Ÿå·¥å…·åŒ…
base_system_packages:
  - vim
  - curl
  - wget
  - unzip
  - tar
  - htop
  - lsof
  - net-tools

# EPEL ä»“åº“é…ç½®
install_epel: true

# Web æœåŠ¡å™¨é…ç½®
web_server_packages:
  - nginx
  - httpd
web_server_state: "present"  # present, latest, absent
web_server_repos: "epel"  # å¯ç”¨çš„ä»“åº“åˆ—è¡¨
manage_web_service: true
web_server_service: "nginx"  # nginx, httpd

# æ•°æ®åº“æœåŠ¡é…ç½®
database_packages:
  - postgresql-server
  - postgresql-contrib
  - mariadb-server
  - mariadb
install_database: false
manage_database_service: true
database_service: "postgresql"  # postgresql, mariadb
database_exclude_packages: "kernel*"  # æ’é™¤çš„åŒ…

# Python å¼€å‘ç¯å¢ƒ
python_packages:
  - python3
  - python3-pip
  - python3-devel
  - python3-virtualenv
  - python3-setuptools
install_python: true

# å¼€å‘å·¥å…·é…ç½®
install_dev_tools: true

# ç‰ˆæœ¬é”å®šåŒ…ï¼ˆç²¾ç¡®ç‰ˆæœ¬æ§åˆ¶ï¼‰
install_version_locked: false
version_locked_packages:
  - name: "nginx"
    version: "1.18.0-1.el8"
  - name: "postgresql"
    version: "12.7-1.el8"
  - name: "redis"
    version: "6.0.9-1.el8.remi"

# åº”ç”¨è¿è¡Œæ—¶ä¾èµ–
app_runtime_dependencies:
  - redis
  - git
  - nodejs
  - npm
install_runtime_deps: true
disable_gpg_for_deps: false

# å®‰å…¨æ›´æ–°é…ç½®
install_security_updates: false

# ç›‘æ§å·¥å…·
monitoring_tools:
  - htop
  - iotop
  - nethogs
  - sysstat
  - vmstat
install_monitoring: true

# å®‰å…¨å·¥å…·
security_tools:
  - fail2ban
  - firewalld
  - rkhunter
  - chkrootkit
  - aide
install_security_tools: true

# éœ€è¦ç§»é™¤çš„åŒ…
packages_to_remove:
  - telnet-server
  - rsh-server
  - ypserv
remove_unwanted_packages: false
autoremove_unwanted: true

# ç³»ç»Ÿæ¸…ç†é…ç½®
cleanup_system: false

# YUM è‡ªåŠ¨æ›´æ–°é…ç½®
configure_yum_cron: false

# å®‰è£…éªŒè¯é…ç½®
verify_installation: true
generate_report: true
yum_report_path: "/tmp/yum_installation_report.txt"

# ä»“åº“é…ç½®ç¤ºä¾‹
additional_repos:
  - name: "docker-ce-stable"
    description: "Docker CE Stable"
    baseurl: "https://download.docker.com/linux/centos/7/x86_64/stable"
    gpgcheck: true
    gpgkey: "https://download.docker.com/linux/centos/gpg"
    enabled: false

# è½¯ä»¶ç»„ç®¡ç†
development_groups:
  - "@Development Tools"
  - "@Web Server"
  - "@Database Server"
  - "@System Administration Tools"

# ç‰ˆæœ¬æ’é™¤é…ç½®
exclude_packages:
  - "kernel*"
  - "glibc*"

# é‡è¦ï¼šè¿™äº›å˜é‡ä»…ç”¨äºæ¼”ç¤ºï¼Œç”Ÿäº§ç¯å¢ƒè¯·æ ¹æ®å®é™…éœ€æ±‚è°ƒæ•´
# âš ï¸ è­¦å‘Šï¼šè½¯ä»¶åŒ…ç‰ˆæœ¬éœ€è¦æ ¹æ®ç›®æ ‡ç³»ç»Ÿçš„ä»“åº“å¯ç”¨æ€§è¿›è¡Œè°ƒæ•´
# ğŸ”’ å®‰å…¨æç¤ºï¼šå®‰è£…è½¯ä»¶åŒ…å‰è¯·éªŒè¯ä»“åº“çš„å¯é æ€§å’Œ GPG å¯†é’¥
# ğŸ“ æ³¨æ„ï¼šæŸäº›è½¯ä»¶åŒ…å¯èƒ½éœ€è¦å¯ç”¨é¢å¤–çš„ä»“åº“ï¼ˆå¦‚ EPELã€REMI ç­‰ï¼‰
# ğŸš€ æ€§èƒ½æç¤ºï¼šåœ¨å¤§é‡å®‰è£…æ“ä½œå‰æ›´æ–°ç¼“å­˜å¯ä»¥æé«˜å®‰è£…é€Ÿåº¦

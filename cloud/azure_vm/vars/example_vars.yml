# âš ï¸ åˆ‡å‹¿åœ¨ä»“åº“ä¸­å†™å…¥çœŸå® Service Principal å¯†é’¥ï¼Œæ¨èï¼š
# ansible-vault encrypt cloud/azure_vm/vars/example_vars.yml
# æˆ–åœ¨ CI ä¸­é€šè¿‡ç¯å¢ƒå˜é‡ AZURE_CLIENT_SECRET æ³¨å…¥ã€‚

azure_subscription_id: "00000000-0000-0000-0000-000000000000"
azure_tenant_id: "11111111-1111-1111-1111-111111111111"
azure_client_id: "22222222-2222-2222-2222-222222222222"
azure_client_secret: "REPLACE_WITH_VAULT_LOOKUP"  # ç¤ºä¾‹ï¼š{{ vault_azure_client_secret }}

azure_resource_group: rg-ansible-lab
azure_location: southeastasia
azure_vm_name: vm-ansible-check
azure_vm_size: Standard_B2ms
azure_admin_username: ansible
azure_admin_password: "REPLACE_USE_VAULT"  # å»ºè®®æ”¹ä¸º SSH key æˆ– Vault å¼•ç”¨

azure_image_publisher: Canonical
azure_image_offer: UbuntuServer
azure_image_sku: 22_04-lts
azure_image_version: latest
azure_os_disk_size: 64

azure_nic_name: nic-ansible-check
azure_virtual_network: vnet-hub
azure_subnet_name: subnet-app
azure_public_ip_allocation_method: Disabled  # Dry Run é¿å…åˆ›å»ºå…¬ç½‘èµ„æº

azure_tags:
  Env: demo
  Owner: cloud-team
  CostCenter: CC123

# ğŸ“Œ å®‰å…¨æç¤º
# - è¯·é€šè¿‡ `az ad sp create-for-rbac --sdk-auth` ç”Ÿæˆ JSONï¼Œå¹¶ç”¨ Vault/Secret Manager ä¿å­˜ã€‚
# - è‹¥è¦åœ¨å‘½ä»¤è¡Œä¼ å…¥æ•æ„Ÿå€¼ï¼Œå¯è¿è¡Œï¼š
#   ansible-playbook playbook.yml --check -e "azure_client_secret={{ lookup('env','AZURE_CLIENT_SECRET') }}"

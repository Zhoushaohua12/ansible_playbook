# âš ï¸ GCP Service Account JSON ä¸åº”ç›´æ¥å­˜å…¥ä»“åº“
# å»ºè®®ï¼š
#   export GCP_SERVICE_ACCOUNT_FILE=/secure/path/sa.json
#   ansible-playbook playbook.yml --check -e "gcp_service_account_file=$GCP_SERVICE_ACCOUNT_FILE"

gcp_service_account_file: /secure/path/REPLACE_service_account.json  # ç¤ºä¾‹ï¼š{{ lookup('env','GCP_SA_FILE') }}
gcp_project: ansible-lab
gcp_zone: asia-southeast2-a

gcp_instance_name: gce-dry-run
gcp_machine_type: e2-standard-2
gcp_disk_image: projects/debian-cloud/global/images/family/debian-11
gcp_disk_size_gb: 20

gcp_network: default
gcp_subnetwork: default

gcp_tags:
  - ssh
  - http

gcp_labels:
  env: demo
  owner: sre
  managed_by: ansible

# ğŸ“Œ å®‰å…¨æç¤º
# - Service Account è‡³å°‘éœ€è¦ roles/compute.instanceAdmin.v1 + roles/iam.serviceAccountUserï¼Œä¸”åº”é™åˆ¶åœ¨æ¼”ç»ƒé¡¹ç›®ã€‚
# - è‹¥ JSON éœ€è¦éšä»“åº“å­˜å‚¨ï¼Œè¯·åŠ¡å¿…ä½¿ç”¨ ansible-vault åŠ å¯†ï¼Œå¹¶é™å®šè¯»å–æƒé™ã€‚
# - Dry Run é»˜è®¤å¯ç”¨ check_modeï¼ŒçœŸå®æ‰§è¡Œè¯·åŠ¡å¿…ç¡®è®¤é…é¢ä¸è´¹ç”¨ã€‚

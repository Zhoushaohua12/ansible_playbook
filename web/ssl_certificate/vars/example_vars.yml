---
# SSL 证书自动化管理配置变量示例
# ⚠️ 重要提示：这些变量为示例占位值，请根据实际环境修改后使用

# 证书基本信息
cert_common_name: "example.com"  # 证书主体域名（占位值，请替换为实际域名）
cert_country_name: "CN"  # 国家代码
cert_state_name: "Beijing"  # 省份/州
cert_locality_name: "Beijing"  # 城市
cert_organization_name: "Example Corp"  # 组织名称

# 多域名证书配置（Subject Alternative Names）
# 如果为空列表，则申请单域名证书；如果非空，则申请多域名证书
cert_san_domains: []  # 示例: ["DNS:example.com", "DNS:*.example.com", "DNS:www.example.com"]

# ACME 账户配置
acme_account_email: "admin@example.com"  # ACME 账户邮箱（用于接收到期提醒，重要！）
acme_challenge_type: "http-01"  # 验证方式: http-01、dns-01、tls-alpn-01
acme_directory_url: "https://acme-v02.api.letsencrypt.org/directory"  # Let's Encrypt 生产 API
# 测试 API（用于开发环境）：https://acme-staging-v02.api.letsencrypt.org/directory

# 证书申请与续期选项
cert_use_acme: true  # 是否使用 ACME 协议申请证书
deploy_to_nginx: false  # 是否部署到 Nginx（需手动启用）
deploy_to_apache: false  # 是否部署到 Apache（需手动启用）

# ⚠️ 安全提示：
# 1. 申请证书前请将 cert_common_name 替换为实际的、可公网访问的域名
# 2. 确保 acme_account_email 是有效的邮箱地址，Let's Encrypt 会发送到期通知
# 3. 对于多域名证书，请在 cert_san_domains 中列出所有需要的域名
#    格式：["DNS:example.com", "DNS:*.example.com", "DNS:www.example.com"]
# 4. http-01 验证需要域名可公网访问且 HTTP 端口（80）未被防火墙阻止
# 5. dns-01 验证需要 DNS API 凭证（如 Cloudflare、Route 53），配置较复杂
# 6. 生产环境使用 Let's Encrypt 生产 API，开发/测试环境使用 staging API 避免触发限流
# 7. 证书申请后会创建以下文件：
#    - /etc/pki/acme/account.key (ACME 账户私钥，权限 600)
#    - /etc/pki/tls/private/server.key (服务器私钥，权限 600)
#    - /etc/pki/tls/certs/server.crt (证书)
#    - /etc/pki/tls/certs/fullchain.pem (完整证书链)
#    - /etc/pki/tls/certs/chain.pem (中间证书)
# 8. 请勿在版本控制系统中提交私钥文件或 account key
# 9. 定期检查证书过期时间，建议在到期前 30 天续期
# 10. 使用 Ansible Vault 加密敏感变量（如 acme_account_email）

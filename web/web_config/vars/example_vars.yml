---
# Web 通用配置变量示例
# ⚠️ 重要提示：这些变量为示例占位值，请根据实际环境修改后使用

# Web 服务器类型（必选：nginx 或 apache2）
web_server_type: "nginx"

# 部署类型（proxy: 反向代理, static: 静态站点）
deployment_type: "proxy"

# Web 根目录
web_root: "/var/www/html"

# === 反向代理配置（当 deployment_type 为 proxy 时使用） ===

# 代理域名
proxy_domain: "api.example.local"

# 后端服务器配置
proxy_backend_host: "127.0.0.1"  # 后端应用服务器地址
proxy_backend_port: "8000"  # 后端应用监听端口
proxy_protocol: "http"  # 后端协议（http 或 https）

# 代理超时配置
proxy_timeout: "60"  # 代理超时时间（秒）

# WebSocket 支持
proxy_websocket_enabled: false  # 是否启用 WebSocket 代理支持

# 客户端请求限制
client_max_body_size: "20M"  # 客户端请求体最大大小

# === 静态站点配置（当 deployment_type 为 static 时使用） ===

# 静态站点域名
static_domain: "www.example.local"

# 默认首页文件
static_index_files:
  - "index.html"
  - "index.htm"

# 缓存配置
static_cache_enabled: true  # 是否启用静态资源缓存
static_cache_duration: "30d"  # 缓存有效期（如 30d、1y）

# .htaccess 覆盖权限（仅 Apache）
allow_override: "All"

# === SSL/TLS 配置 ===

# 是否启用 HTTPS
ssl_enabled: false  # 设为 true 前请先准备好证书文件

# SSL 证书路径（占位值，实际使用前需替换）
ssl_certificate_path: "/etc/ssl/certs/cert.pem"
ssl_certificate_key_path: "/etc/ssl/private/key.pem"

# === 日志配置 ===

# 日志级别（debug/info/notice/warn/error/crit）
log_level: "warn"

# ⚠️ 安全提示：
# 1. 生产环境请将域名（proxy_domain/static_domain）替换为实际域名
# 2. 反向代理需确保后端应用已启动并监听对应端口
# 3. 如需启用 HTTPS，请先使用 Let's Encrypt 或购买商业证书
# 4. 请根据实际流量调整超时和请求体大小限制
# 5. 请勿在版本控制系统中提交 SSL 私钥文件
# 6. 建议在生产环境设置 allow_override: "None"（Apache）以提升性能

# === 部署场景示例 ===

# 场景 1: Django 应用反向代理
# web_server_type: "nginx"
# deployment_type: "proxy"
# proxy_domain: "myapp.example.com"
# proxy_backend_host: "127.0.0.1"
# proxy_backend_port: "8000"

# 场景 2: 静态网站发布
# web_server_type: "nginx"
# deployment_type: "static"
# static_domain: "www.example.com"
# web_root: "/var/www/mysite"

# 场景 3: HTTPS 反向代理
# web_server_type: "nginx"
# deployment_type: "proxy"
# ssl_enabled: true
# proxy_domain: "secure-api.example.com"
# ssl_certificate_path: "/etc/letsencrypt/live/secure-api.example.com/fullchain.pem"
# ssl_certificate_key_path: "/etc/letsencrypt/live/secure-api.example.com/privkey.pem"
